import * as ethers from "ethers";
import { INFURA_API_KEY } from "../../config";
import { getLogger } from "../logger";
var logger = getLogger("contractInstance");
export var getProvider = function (options) {
    return new ethers.providers.InfuraProvider(options.network, INFURA_API_KEY);
};
export var contractInstance = function (options) {
    var contract = new ethers.Contract(options.contractAddress, options.abi, getProvider(options));
    // this is done to prevent uncaught exception to raise because an address is invalid
    contract.addressPromise.catch(function () {
        logger.trace("oa-verify caught an error from ethers when trying to resolve the address of the provided address " + options.contractAddress);
    });
    return contract;
};
